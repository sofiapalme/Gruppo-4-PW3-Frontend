<!DOCTYPE html>
<html lang="it">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/dashboardVisitor.css" />
    <script src="script/dashboard.js" defer></script>
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="https://cdn.datatables.net/2.2.2/js/dataTables.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/2.2.2/css/dataTables.dataTables.css">    <script>
        $(document).ready(function() {
            // Funzione per calcolare la differenza tra una data e oggi
            $.fn.dataTable.ext.type.order['date-distance-pre'] = function(data) {
                const today = new Date();
                const date = new Date(data);
                return Math.abs(date - today);
            };

            $('#table1').DataTable({
                lengthChange: false,  // Nasconde il selettore del numero di righe
                pageLength: 5,        // Imposta 5 righe per pagina
                order: [[3, 'asc']], // Ordina per vicinanza alla data odierna (la più vicina prima)
                columnDefs: [{
                    targets: 3,       // Target della colonna data
                    type: 'date-distance'  // Usa il nostro ordinamento personalizzato
                }],
                language: {
                    info: "Mostrando da _START_ a _END_ di _TOTAL_ elementi",
                    infoEmpty: "Nessun elemento disponibile",
                    infoFiltered: "(filtrati da _MAX_ elementi totali)",
                    search: "Cerca:",
                    paginate: {
                        next: ">",
                        previous: "<"
                    },
                    emptyTable: "Nessun dato presente nella tabella",
                    zeroRecords: "Nessun risultato trovato"
                }
            });

            // Inizializza la seconda tabella
            $('#table2').DataTable({
                // Configurazione specifica per la seconda tabella
            });
        });   
    </script>
    <title>Dashboard</title>
</head>

<body>
    <div class="dashboard">
        <aside class="sidebar">
            <img class="logo" src="assets/logo.png" alt="Logo">
            <nav class="menu">
                <div class="menu-item" id="home">Home</div>

                <div class="menu-item" id="visualizza">
                    <div class="menu-content">
                        Visualizza <span class="arrow"><img src="assets/down_arrow_white_icon.png" alt="Freccia giù"></span>
                    </div>
                    <div class="submenu">
                        <div class="submenu-item" id="visualizza-opzione1">Opzione 1</div>
                        <div class="submenu-item" id="visualizza-opzione2">Opzione 2</div>
                    </div>
                </div>

                <div class="menu-item" id="storico">
                    <div class="menu-content">
                        Storico <span class="arrow"><img src="assets/down_arrow_white_icon.png" alt="Freccia giù"></span>
                    </div>
                    <div class="submenu">
                        <div class="submenu-item" id="storico-opzione1">Opzione 1</div>
                        <div class="submenu-item" id="storico-opzione2">Opzione 2</div>
                    </div>
                </div>

                <div class="menu-item" id="visitatori">
                    <div class="menu-content">
                        Visitatori <span class="arrow"><img src="assets/down_arrow_white_icon.png" alt="Freccia giù"></span>
                    </div>
                    <div class="submenu">
                        <div class="submenu-item" id="visitatori-opzione1">Opzione 1</div>
                        <div class="submenu-item" id="visitatori-opzione2">Opzione 2</div>
                    </div>
                </div>
            </nav>

            <div class="user-box">
                <div class="avatar-bg"></div>
                <img class="avatar" src="assets/utente.png" alt="User Avatar">
                <div class="user-name">Nome e Cognome</div>
                <button class="action-button">Logout</button>
            </div>
        </aside>        <main class="content-area">
            <!-- TODO: Risolvere il problema della visualizzazione simultanea delle sezioni.
                 Attualmente possono essere visibili più sezioni contemporaneamente.
                 Implementare la logica nel file JavaScript per assicurarsi che solo
                 una sezione sia visibile alla volta, nascondendo tutte le altre
                 quando viene selezionata una voce dal menu. -->
            <section id="home-section" class="section">
                <h2>Home</h2>
                <p>Benvenuto nella dashboard!</p>
            </section>
            <section id="visualizza-opzione1-section" class="section">
                <h2>Visualizza - Opzione 1</h2>                <table id="table1" class="display custom-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Cognome</th>
                            <th>Azienda</th>
                            <th>Data</th>
                        </tr>
                    </thead>                    <tbody>
                        <tr>
                            <td>Marco</td>
                            <td>Bianchi</td>
                            <td>Tech Solutions</td>
                            <td>2025-05-23</td>
                        </tr>
                        <tr>
                            <td>Laura</td>
                            <td>Neri</td>
                            <td>Digital Corp</td>
                            <td>2025-05-24</td>
                        </tr>
                        <tr>
                            <td>Giovanni</td>
                            <td>Verdi</td>
                            <td>IT Services</td>
                            <td>2025-05-22</td>
                        </tr>
                        <tr>
                            <td>Sofia</td>
                            <td>Russo</td>
                            <td>Web Solutions</td>
                            <td>2025-05-25</td>
                        </tr>
                        <tr>
                            <td>Andrea</td>
                            <td>Ferrari</td>
                            <td>Data Corp</td>
                            <td>2025-05-21</td>
                        </tr>
                        <tr>
                            <td>Elena</td>
                            <td>Romano</td>
                            <td>Smart Tech</td>
                            <td>2025-05-26</td>
                        </tr>
                        <tr>
                            <td>Alessandro</td>
                            <td>Colombo</td>
                            <td>Innovation Lab</td>
                            <td>2025-05-20</td>
                        </tr>
                        <tr>
                            <td>Martina</td>
                            <td>Ricci</td>
                            <td>Future Systems</td>
                            <td>2025-05-27</td>
                        </tr>
                        <tr>
                            <td>Francesco</td>
                            <td>Marino</td>
                            <td>Tech Hub</td>
                            <td>2025-05-19</td>
                        </tr>
                        <tr>
                            <td>Chiara</td>
                            <td>Greco</td>
                            <td>Cloud Services</td>
                            <td>2025-05-28</td>
                        </tr>
                        <tr>
                            <td>Davide</td>
                            <td>Conti</td>
                            <td>Net Solutions</td>
                            <td>2025-05-18</td>
                        </tr>
                        <tr>
                            <td>Valentina</td>
                            <td>Serra</td>
                            <td>Dev Group</td>
                            <td>2025-05-29</td>
                        </tr>
                        <tr>
                            <td>Lorenzo</td>
                            <td>Mancini</td>
                            <td>Software House</td>
                            <td>2025-05-17</td>
                        </tr>
                        <tr>
                            <td>Alice</td>
                            <td>Galli</td>
                            <td>Tech Point</td>
                            <td>2025-05-30</td>
                        </tr>
                        <tr>
                            <td>Simone</td>
                            <td>Leone</td>
                            <td>Cyber Security</td>
                            <td>2025-05-16</td>
                        </tr>
                        <tr>
                            <td>Giulia</td>
                            <td>Mariani</td>
                            <td>AI Solutions</td>
                            <td>2025-05-31</td>
                        </tr>
                        <tr>
                            <td>Matteo</td>
                            <td>Vitale</td>
                            <td>Data Systems</td>
                            <td>2025-05-15</td>
                        </tr>
                        <tr>
                            <td>Sara</td>
                            <td>Ferraro</td>
                            <td>Cloud Tech</td>
                            <td>2025-06-01</td>
                        </tr>
                        <tr>
                            <td>Luca</td>
                            <td>Santoro</td>
                            <td>Mobile Dev</td>
                            <td>2025-05-14</td>
                        </tr>
                        <tr>
                            <td>Beatrice</td>
                            <td>Palmieri</td>
                            <td>Web Dev</td>
                            <td>2025-06-02</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            <section id="visualizza-opzione2-section" class="section">
                <h2>Visualizza - Opzione 2</h2>
                <p>Contenuto della sezione Visualizza Opzione 2</p>
            </section>

            <section id="storico-opzione1-section" class="section">
                <h2>Storico - Opzione 1</h2>
                <p>Contenuto della sezione Storico Opzione 1</p>
            </section>
            <section id="storico-opzione2-section" class="section">
                <h2>Storico - Opzione 2</h2>
                <p>Contenuto della sezione Storico Opzione 2</p>
            </section>

            <section id="visitatori-opzione1-section" class="section centered">
                <div class="visitatori-wrapper">
                    <h2>Prenota visita</h2>
                    <div class="form-sezione">
                        <div class="checkbox-row">
                            <input type="checkbox" id="prima-visita">
                            <label for="prima-visita">Prima visita</label>
                        </div>

                        <div class="input-row">
                            <div class="input-group">
                                <label for="nome">Nome</label>
                                <input type="text" id="nome" name="nome">
                            </div>
                            <div class="input-group">
                                <label for="cognome">Cognome</label>
                                <input type="text" id="cognome" name="cognome">
                            </div>
                            <div class="input-group">
                                <label for="azienda">Azienda</label>
                                <input type="text" id="azienda" name="azienda">
                            </div>
                        </div>

                        <div class="input-row left-align">
                            <div class="input-group">
                                <label for="data-inizio">Data inizio</label>
                                <input type="date" id="data-inizio" name="data-inizio">
                            </div>
                            <div class="input-group">
                                <label for="data-fine">Data fine</label>
                                <input type="date" id="data-fine" name="data-fine">
                            </div>
                        </div>

                        <div class="input-row">
                            <div class="input-group">
                                <label for="responsabile">Responsabile visita</label>
                                <input type="text" id="responsabile" name="responsabile">
                            </div>
                            <div class="input-group">
                                <label for="motivo">Motivo visita</label>
                                <input type="text" id="motivo" name="motivo">
                            </div>
                            <div class="input-group">
                                <label for="materiale">Materiale informatico</label>
                                <input type="text" id="materiale" name="materiale">
                            </div>
                        </div>

                        <div class="checkbox-group">
                            <div class="checkbox-row">
                                <input type="checkbox" id="automezzo">
                                <label for="automezzo">Accesso automezzo</label>
                            </div>
                            <div class="checkbox-row">
                                <input type="checkbox" id="dpi">
                                <label for="dpi">Richiesta DPI</label>
                            </div>
                        </div>
                        
                        <div class="button-container">
                            <button class="action-button">Prenota</button>
                        </div>

                    </div>
                </div>
            </section>

            <section id="visitatori-opzione2-section" class="section">
                <h2>Visitatori - Opzione 2</h2>
                <p>Contenuto della sezione Visitatori Opzione 2</p>
            </section>
        </main>

    </div>
</body>

</html>